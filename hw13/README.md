Требуется взять код ring-buffer из предыдущих ДЗ и сделать его «потокобезопасным»: это значит, что безопасно вызывать функции read и write из разных потоков, при этом гарантируется стабильность работы программы и целостность данных.

Особенный интерес представляет тестирование: не существует простого способа гарантированно протестировать отсутствие состояние гонок в многопоточной среде. Ваша задача — подумать, как мог бы выглядеть тест на многопоточность, и написать его.